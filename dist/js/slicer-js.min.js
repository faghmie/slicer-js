var AdhocCard={_get_frame:function(){var t=$('<div class="adhoc-container d-flex -flex-column"><div class="left-pane form-group mr-2"><ul class="dataset list-group -list-group-flush"/></div><div class="frame-body w-100"><ul class="field-list list-group list-group-flush"/></div></div>');return t.find(".left-pane, .frame-body").css({height:"65vh","max-height":"65vh",overflow:"auto"}),t.find(".left-pane").css({width:"200px","min-width":"200px"}),t},show:function(t){var e=AdhocCard._get_frame(),i=e.find(".dataset"),a=[];for(var s in(t=$.extend({type:"slicer",container:"body"},t)).container=$(t.container),t.frame=e,cache)"function"!=typeof cache[s]&&a.push(s);(a=a.sort((function(t,e){return t.localeCompare(e)}))).forEach((function(t){i.append('<a class="list-group-item list-group-item-action text-capitalize">'+t.replace("_"," ").trim()+"</a>"),i.find("a:last-child").data("dataset",t)})),i.find("a").css("cursor","pointer"),i.off("click").on("click",".list-group-item",i,(function(e){e.stopPropagation(),i.find(".list-group-item").removeClass("active"),$(this).addClass("active"),t.dataset=cache[$(this).data("dataset")],AdhocCard._dataset_changed(t)})),t.pane?(t.pane.children().remove(),t.pane.append(e)):open_card(e,{title:t.title,"min-width":"60vw","min-height":"70vh"})},_dataset_changed:function(t){var e=t.frame.find(".field-list"),i=[],a=[];e.children().remove(),("slicer"===t.type?t.container.data("slicers"):t.container.data("infocards")).forEach((function(t){i.push(t.toObject().field)})),t.dataset.header.forEach((function(t,e){0!==e&&-1===i.indexOf(t)&&a.push(t)})),(a=a.sort((function(t,e){return t.localeCompare(e)}))).forEach((function(i){e.append('<a class="list-group-item list-group-item-action">'+i+"</a>"),e.find("a:last-child").attr("dataset",t.dataset.name)})),e.find("a").css("cursor","pointer"),e.off("click").on("click",".list-group-item",e,(function(e){e.data;var i=$(this).text();e.stopPropagation(),"slicer"==t.type?(new Slicer).attach({container:t.container,dataset:$(this).attr("dataset"),style:"secondary",left:50,top:50,width:300,height:300,title:i,field:i}).make_editable():"org"==t.type?(new OrgCard).attach({container:t.container,dataset:$(this).attr("dataset"),style:"secondary",left:50,top:50,width:200,height:200,title:i,field:i}).make_editable():(new InfoCard).attach({container:t.container,dataset:$(this).attr("dataset"),style:"secondary",left:50,top:50,width:200,height:120,title:i,field:i}).make_editable(),iterate_slicers()}))}},BaseCard={table:null,dataset:null,field:null,col_id:null,frame:null,PARENT_SET:"slicers",_get_frame:function(t){var e=$.extend({width:"400px",height:"200px",top:"200px",left:"200px",style:"primary"},t),i=this,a=$('<div class="small dash-frame"><div class="title-bar"><div class="frame-title" /><div class="dash-edit"><a class="slicer-setting btn btn-light btn-link"><i class="fa fa-cog"></i></a><a class="slicer-remove btn btn-light btn-link"><i class="fa fa-trash"></i></a></div></div><div class="frame-body h-100 m-2" /></div>');return a.css({width:e.width,height:e.height,top:e.top,left:e.left,display:"inline-block",overflow:"hidden",position:"absolute"}).addClass("border-"+e.style),a.find(".frame-body").css({overflow:"auto"}),a.on("click",(function(t){t.stopPropagation(),$(i.table).children().css("z-index",0),$(this).css("z-index",1)})),a.find(".slicer-remove").on("click",(function(t){t.stopPropagation();var e=null;i.table.data(i.PARENT_SET).forEach((function(t,s){t===i&&(a.remove(),e=s)})),i.table.data(i.PARENT_SET).splice(e,1),i.options.on_change(i)})),a.find(".slicer-setting").on("click",this,(function(t){t.stopPropagation(),new CardFormat(t.data)})),a.find(".dash-edit").hide(),a},make_editable:function(){var t=this;this.frame.draggable({handle:".title-bar",grid:[5,5],containment:[0,40],start:function(){t.options.on_before_change(t)},stop:function(){t.update_frame(t)}}).resizable({grid:[5,5],start:function(){t.options.on_before_change(t)},stop:function(){t.update_frame(t)},resize:function(){t.theme(),t.set_content(),t.resize()}}),this.frame.find(".dash-edit").show()},move:function(t,e){var i=this.frame.position();t||(t=parseInt(i.left)),e||(e=parseInt(i.top)),t=parseInt(t)+"px",e=parseInt(e)+"px",this.frame.css({top:e,left:t})},resize:function(t,e){t||(t=Math.ceil(this.frame.css("width"))),e||(e=Math.ceil(this.frame.css("height"))),this.frame.css({width:Math.ceil(t)+"px",height:Math.ceil(e)+"px"}),"function"==typeof this._resize&&this._resize(),"function"==typeof _resize&&_resize()},toObject:function(){var t=this.frame.position(),e={field:this.field,dataset:this.dataset?this.dataset.name:null,style:this.list_style,title:this.title,left:t.left,top:t.top,width:this.frame.width(),height:this.frame.height()};return"function"==typeof this._toObject&&this._toObject(e),e},style:function(){return{text_active:this.text_active,list_style:this.list_style}},header:function(t){if(void 0===t)return this.frame.find(".frame-title").text();this.frame.find(".frame-title").text(t),this.title=t},find:function(t){return this.frame.find(t)},field_index:function(){return this.col_id},get_dataset:function(){return this.dataset},theme:function(t){this.frame.removeClass("border-"+this.list_style),this.frame.find(".title-bar").removeClass("bg-"+this.list_style),this.frame.find(".frame-body").removeClass("text-"+this.list_style),"string"==typeof t&&t.trim().length>0&&(this.list_style=t),this.text_active=-1!==["light","warning","om-sun"].indexOf(t)?"text-dark":"text-white",this.frame.addClass("border-"+this.list_style),this.frame.find(".title-bar").addClass("bg-"+this.list_style),this.frame.find(".frame-title").removeClass("text-secondary text-dark text-white").addClass(this.text_active),"function"==typeof this._theme&&this._theme(),this.set_content()},attach:function(t){var e=this.frame=this._get_frame(t);this.table=$(t.container),this.field=t.field,t=$.extend({style:"primary",on_change:function(){console.log("no start save")},on_before_change:function(){console.log("no stop save")}},t),"function"==typeof window.dashboard_toObject&&(t.on_change=window.dashboard_toObject),"function"==typeof window.stop_auto_save&&(t.on_before_change=window.stop_auto_save),this.options=t,this.title=t.title,this.header(t.title),t.dataset&&("string"==typeof t.dataset?t.dataset in cache?this.dataset=cache[t.dataset]:this.dataset={name:t.dataset,header:[],rows:[]}:this.dataset=t.dataset),this.dataset||(this.dataset=this.html_table_to_dataset(this.table)),this.col_id=this.dataset.header.indexOf(t.field),this.text_active="text-"+("light"===t.style?"dark":"white");var i=this.table.data(this.PARENT_SET);return i instanceof Array||(i=[]),i.push(this),this.table.data(this.PARENT_SET,i),e.appendTo(this.table),"function"==typeof this._attach&&this._attach(t),this.set_content(),this.theme(t.style),this},html_table_to_dataset:function(t){var e={header:["@visible"],rows:[],name:this.generate_uuid()};return t.find("th").each((function(){e.header.push($(this).text())})),t.find("tr").each((function(){e.rows.push([1]),$(this).find("td").each((function(){e.rows[e.rows.length-1].push($(this).text())}))})),void 0===t.attr("biznous-ds-key")?t.attr("biznous-ds-key",e.name):t.data("slicers").forEach((function(i){var a=i.get_dataset();a.name===t.attr("biznous-ds-key")&&(e=a)})),e},set_content:function(){},generate_uuid:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)}))}},CardFormat=function(t){var e,i=null,a=["light","secondary","danger","info","warning","success","dark","heritage-green","fresh-green","future-green","sky","sun","naartjie","cerise"];i=$('<div class="d-flex flex-column small"><input class="form-control form-control-sm card-title" /><div class="custom" /><p class="setting mt-2">theme</p><div class="theme d-flex" /><p class="setting mt-2">size & position</p><div class="arrange" /></div>'),(e=i).find(".card-title").val(t.header()),e.find(".card-title").on("keyup",(function(e){t.header($(this).val())})),function(e){var i=e.find(".theme");li=null,i.css({height:"80px","max-height":"80px",overflow:"auto"}),a.forEach((function(t){li=$("<div>").appendTo(i).addClass("m-2").addClass("border border-dark").addClass("bg-"+t).data("theme",t).css({width:"50px","min-width":"50px",height:"50px","min-height":"50px",cursor:"pointer"})})),i.find("div").on("click",(function(e){e.stopPropagation(),t.theme($(this).data("theme"))}))}(i),function(e){var i=$('<div class="form-inline"><div class="form-group"><label class="setting">top</label><input type="number" class="setting form-control form-control-sm top"></div><div class="form-group"><label class="ml-2 setting">left</label><input type="number" class="setting form-control form-control-sm left"></div></div>').appendTo(e.find(".arrange"));i.find("input").on("input",(function(e){e.stopPropagation(),t.move(i.find(".left").val(),i.find(".top").val())}));var a=t.frame.position();i.find(".top").val(parseInt(a.top)),i.find(".left").val(parseInt(a.left))}(i),function(e){var i=$('<div class="form-inline"><div class="form-group"><label class="setting">width</label><input type="number" class="setting form-control form-control-sm width"></div><div class="form-group"><label class="ml-2 setting">height</label><input type="number" class="setting form-control form-control-sm height"></div></div>').appendTo(e.find(".arrange"));i.find("input").css({width:"40px"}),i.find("input").on("input",(function(e){e.stopPropagation(),t.resize(i.find(".width").val(),i.find(".height").val())})),i.find(".width").val(parseInt(t.frame.css("width"))),i.find(".height").val(parseInt(t.frame.css("height")))}(i),"function"==typeof t.settings&&(i.find(".custom").children().remove(),i.find(".custom").append(t.settings()));var s=open_card(i,{title:"Settings",width:"300px","min-width":"300px","max-width":"300px","min-height":"250px",on_show:function(){var e=i.height()+20;t.options.on_before_change(),window.innerWidth<i.height()&&(e=window.innerWidth),i.parents(".popup-card").css("min-height",e+"px"),i.parents(".body-content").css("min-height",e+"px"),s.recenter()},on_close:t.options.on_change})};function open_card(t,e,i){return new Card(t,e,i)}function Card(t,e,i){var a=$("<div>").addClass("ui-overlay").appendTo("body"),s={width:"40vw","min-width":"40vw","max-width":"100vw",height:"40vh","max-height":"50vh","min-height":"40vh",overflow:"auto"};"function"==typeof e||"function"==typeof i?(s.on_show=e,s.on_close=i):s=$.extend(s,e),void 0===s.width&&(s.width="40vw"),void 0===s.no_header&&(s.no_header=!1);var n=$('<div class="popup-card biznous-glow d-flex flex-column"><div class="header-row d-flex justify-content-between "><div class="drag-me title"><h6 class="header"/></div><div class=""><i class="close-btn pull-right fa fa-fw fa-lg fa-times" style="color: #9F9F9F" /></div></div><div class="body-wrapper"><div class="body-content"></div></div><div class="drag-me" style="cursor: move;min-height:15px;max-height:15px;"></div></div>').css({position:"absolute","border-radius":"5px",zIndex:9001,top:0,overflow:"hidden",width:s.width,padding:"10px","max-width":s["max-width"],"min-width":s["min-width"],"max-height":"90vh"}).appendTo(a).show();function o(t){$("body").css({overflow:"auto"}),!0!==this.is_closed&&n&&(this.is_closed=!0,n.animate({right:"-800"},{queue:!1,duration:50,complete:function(){a.remove(),"function"==typeof s.on_close&&s.on_close(n),n&&n.remove(),n=null,"function"==typeof t&&t()}}))}return!0===s.transparent&&(n.removeClass("card shadow-lg"),n.css("box-shadow","")),n.find(".body-content").append(t).css({"min-height":s["min-height"],height:s.height,overflow:s.overflow}),n.draggable({handle:".drag-me"}),s.title&&n.find(".header").append(s.title),n.find("i.close-btn").on("click",this,(function(t){o.call(t.data)})),$("body").css({overflow:"hidden"}),a.show((function(){n.animate({right:"0px"},{queue:!1,duration:200,complete:function(){"function"==typeof s.on_show&&s.on_show(n)}}),n.show((function(){n&&n.position({of:a,my:"center center",at:"center center"})}))})),recenter=function(){n.position({of:a,my:"center center",at:"center center"})},this.is_closed=!1,{close:o,recenter:recenter,container:n}}var BizNous=window.BizNous||{},save_timer=null,widget_types=["slicers","infocards","chartcards","tablecards","orgcards","portfolioview"],dash_registry={},dash_container=".dash-detail",profileSelector=null,AppName="BizNous",notify=null,biznousHistory=null;(BizNous={_currentView:null,_currentProfile:null,_notify:null,inMobileMode:!1,set currentProfile(t){BizNous._currentProfile=t,$(".current-profile").html(t)},get currentProfile(){return BizNous._currentProfile},set currentView(t){BizNous._currentView=t,document.title=t+" - "+AppName},get currentView(){return BizNous._currentView},notify:function(t,e){null===BizNous._notify&&(BizNous._notify=new Notify),BizNous._notify.show(t,e)},wait:function(t){null===BizNous._notify&&(BizNous._notify=new Notify),BizNous._notify.show(t,{autoHide:!1})},closeNotify:function(t){null===BizNous._notify&&(BizNous._notify=new Notify),BizNous._notify.close()},success:function(t){null===BizNous._notify&&(BizNous._notify=new Notify),BizNous._notify.show(t,{className:"success"})},error:function(t){null===BizNous._notify&&(BizNous._notify=new Notify),console.trace(t),t||(t=""),t.message&&(t=t.message),"failed to fetch"===t.toLowerCase().trim()&&(t="Unable to connect to the server. Try refreshing the page."),BizNous._notify.show(t,{className:"error"})}}).saveTimer=null,BizNous.userCredentials={},BizNous.plugins={insights:["biznous_base_hook","biznous_ops_hook","biz_change_template_hook","privacy_info_hook","user_story_view_hook"]},BizNous.api={endpoints:{search:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/search/",data:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/data",user:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/users/",profile:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/profile/",share:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/share",model_groups:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/model-groups",datamodel:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/datamodel",track_changes:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/track-changes",diagram:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/diagram",custom_views:"https://ki6ba1z4r2.execute-api.ca-central-1.amazonaws.com/prod/custom-view"}};var DASH_PLUGINS={"Business Insight":['{"name":"Business Capabilities","notes":"Visually depicts how the capabilities are linked to the various functional areas within the business","slicers":[{"field":"Business Model","dataset":"business","style":"success","title":"Business Model","left":335,"top":355,"width":846,"height":102,"num_of_items":4,"item_height":"25px"},{"field":"Capability","dataset":"business_capabilities","style":"om-heritage-green","title":"Capability","left":20,"top":140,"width":1166,"height":104,"num_of_items":8,"item_height":"40px"},{"field":"Sub-Capability","dataset":"business_capabilities","style":"om-heritage-green","title":"Sub-Capability","left":20,"top":250,"width":306,"height":554,"num_of_items":1,"item_height":"25px"},{"field":"Value Chain","dataset":"value_chain","style":"om-naartjie","title":"Value Chain","left":335,"top":470,"width":235,"height":335,"num_of_items":1,"item_height":"30px"},{"field":"Process","dataset":"process","style":"om-naartjie","title":"Process","left":580,"top":470,"width":602,"height":337,"num_of_items":2,"item_height":"30px"},{"field":"Distribution Channel","dataset":"distribution channels","style":"success","title":"Distribution Channel","left":335,"top":250,"width":852,"height":96,"num_of_items":5,"item_height":"30px"}],"infocards":[{"field":"Business Area","dataset":"business","style":"success","title":"Business Area","left":470,"top":10,"width":220,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Process","dataset":"process","style":"om-naartjie","title":"Processes","left":220,"top":10,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Application","dataset":"application","style":"om-sky","title":"Application","left":1000,"top":10,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"info","title":"Data","left":740,"top":10,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Capability","dataset":"business_capabilities","style":"om-heritage-green","title":"Capabilities","left":0,"top":10,"width":190,"height":130,"font_size":"70px","aggregation":"distinct"}],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Strategy Impacts","notes":"Provides an overview of the business and the key aspects to consider","slicers":[{"field":"Strategy","dataset":"business","style":"om-future-green","title":"Strategy","left":10,"top":10,"width":268,"height":214,"num_of_items":1,"item_height":"60px"},{"field":"Capability","dataset":"business_capabilities","style":"success","title":"Capability","left":10,"top":240,"width":270,"height":278,"num_of_items":1,"item_height":"25px"}],"infocards":[{"field":"Application","dataset":"application","style":"info","title":"Applications","left":850,"top":10,"width":180,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"secondary","title":"Data","left":1050,"top":10,"width":180,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Business Area","dataset":"business","style":"success","title":"Functional Areas","left":550,"top":10,"width":240,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Process","dataset":"process","style":"om-cerise","title":"Process","left":290,"top":10,"width":210,"height":130,"font_size":"70px","aggregation":"distinct"}],"chartcards":[{"field":"Application","dataset":"application","style":"info","title":"Technical Fitness of Applications","left":300,"top":150,"width":440,"height":370,"chart_field":"Technical Fitness","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true},{"field":"Data","dataset":"data","style":"secondary","title":"Type of Data","left":760,"top":150,"width":480,"height":370,"chart_field":"DataType","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true}],"tablecards":[],"orgcards":[]}','{"name":"Value Chain","notes":"Navigate the value chain and explore it\'s impact and relationship with the organization","slicers":[{"field":"Value Chain","dataset":"value_chain","style":"om-heritage-green","title":"Value Chain","left":10,"top":0,"width":1232,"height":112,"num_of_items":6,"item_height":"25px"},{"field":"Process","dataset":"process","style":"info","title":"Process","left":10,"top":260,"width":214,"height":268,"num_of_items":1,"item_height":"25px"},{"field":"Journey Type","dataset":"process","style":"info","title":"Journey Type","left":10,"top":130,"width":214,"height":118,"num_of_items":1,"item_height":"25px"}],"infocards":[{"field":"Process","dataset":"process","style":"info","title":"Processes","left":1070,"top":140,"width":180,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Application","dataset":"application","style":"om-heritage-green","title":"Applications","left":1070,"top":270,"width":180,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"om-fresh-green","title":"Data","left":1060,"top":430,"width":180,"height":130,"font_size":"70px","aggregation":"distinct"}],"chartcards":[{"field":"Business Area","dataset":"business","style":"primary","title":"Business Unit vs Functional Areas (# impacted)","left":230,"top":140,"width":810,"height":420,"chart_field":"Business Unit","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true}],"tablecards":[],"orgcards":[]}','{"name":"Product","notes":"Overview of where the organization and the products available","slicers":[{"field":"SaleOption","dataset":"product_view","style":"secondary","title":"SaleOption","left":10,"top":160,"width":196,"height":254,"num_of_items":1,"item_height":"25px"},{"field":"Proposition","dataset":"product_view","style":"secondary","title":"Proposition","left":220,"top":160,"width":582,"height":262,"num_of_items":3,"item_height":"40px"},{"field":"Product Type","dataset":"product_view","style":"info","title":"Product Type","left":10,"top":10,"width":790,"height":138,"num_of_items":5,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Business Overview","notes":"Overview of key features of the organization","slicers":[{"field":"Business Model","dataset":"business","style":"info","title":"Customer Segments","left":20,"top":140,"width":536,"height":148,"num_of_items":3,"item_height":"25px"},{"field":"Value Chain","dataset":"value_chain","style":"om-heritage-green","title":"Value Chain","left":20,"top":310,"width":346,"height":192,"num_of_items":1,"item_height":"25px"},{"field":"Capability","dataset":"business_capabilities","style":"info","title":"Capability","left":860,"top":140,"width":376,"height":148,"num_of_items":2,"item_height":"25px"},{"field":"Proposition","dataset":"product_view","style":"om-heritage-green","title":"Products","left":390,"top":310,"width":318,"height":192,"num_of_items":2,"item_height":"25px"},{"field":"SaleOption","dataset":"product_view","style":"om-heritage-green","title":"Sale Option","left":1080,"top":310,"width":150,"height":192,"num_of_items":1,"item_height":"25px"},{"field":"Product Type","dataset":"product_view","style":"om-heritage-green","title":"Product Type","left":730,"top":310,"width":320,"height":192,"num_of_items":2,"item_height":"25px"},{"field":"Distribution Channel","dataset":"distribution channels","style":"info","title":"Distribution Channel","left":570,"top":140,"width":276,"height":148,"num_of_items":2,"item_height":"30px"}],"infocards":[{"field":"Business Area","dataset":"business","style":"om-naartjie","title":"Business Area","left":1050,"top":0,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Process","dataset":"process","style":"dark","title":"Process","left":270,"top":0,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Application","dataset":"application","style":"info","title":"Application","left":780,"top":0,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"success","title":"Data","left":520,"top":0,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"},{"field":"Proposition","dataset":"product_view","style":"warning","title":"Products","left":20,"top":0,"width":200,"height":130,"font_size":"70px","aggregation":"distinct"}],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Business Capability Transition","notes":"View the dependencies between the existing organization and the proposed capabilities","slicers":[{"field":"Strategy","dataset":"business","style":"info","title":"Strategy","left":10,"top":10,"width":200,"height":502,"num_of_items":1,"item_height":"60px"},{"field":"Capability","dataset":"business_capabilities","style":"secondary","title":"Current Capability","left":220,"top":10,"width":404,"height":234,"num_of_items":2,"item_height":"35px"},{"field":"Sub-Capability","dataset":"business_capabilities","style":"secondary","title":"Current Sub-Capability","left":220,"top":260,"width":400,"height":274,"num_of_items":2,"item_height":"35px"},{"field":"Future Capability","dataset":"business_capabilities","style":"info","title":"Future Capability","left":640,"top":10,"width":432,"height":232,"num_of_items":2,"item_height":"35px"},{"field":"Future Sub Capability","dataset":"business_capabilities","style":"info","title":"Future Sub Capability","left":640,"top":260,"width":430,"height":274,"num_of_items":2,"item_height":"35px"}],"infocards":[{"field":"Application","dataset":"application","style":"success","title":"# Applications","left":1100,"top":20,"width":240,"height":130,"font_size":"90px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"secondary","title":"# Data","left":1100,"top":170,"width":240,"height":130,"font_size":"90px","aggregation":"distinct"},{"field":"Business Area","dataset":"business","style":"info","title":"# Functional Areas","left":1100,"top":330,"width":240,"height":140,"font_size":"90px","aggregation":"distinct"}],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Organogram","notes":"Visually explore the organization through the organogram diagram","slicers":[{"field":"Business Model","dataset":"business","style":"om-heritage-green","title":"Business Model","left":10,"top":10,"width":388,"height":178,"num_of_items":3,"item_height":"25px"},{"field":"Department","dataset":"business","style":"info","title":"Department","left":780,"top":10,"width":358,"height":178,"num_of_items":3,"item_height":"25px"},{"field":"Business Unit","dataset":"business","style":"success","title":"Business Unit","left":410,"top":10,"width":358,"height":178,"num_of_items":2,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[{"dataset":"business","style":"info","title":"Functional View","left":10,"top":200,"width":1148,"height":658,"level_0":"Business Model","level_1":"Business Unit","level_2":"Department","level_3":"Business Area","level_0_title":"Business Model Manager","level_1_title":"Business Unit Manager","level_2_title":"Department Manager","level_3_title":null}]}','{"name":"Journey Map","notes":"Browse the various journeys involving the organization","slicers":[{"field":"Journey Type","dataset":"journey_map","style":"success","title":"Journey Type","left":10,"top":10,"width":226,"height":178,"num_of_items":2,"item_height":"25px"},{"field":"Process","dataset":"journey_map","style":"success","title":"Process","left":10,"top":200,"width":227,"height":366,"num_of_items":1,"item_height":"25px"},{"field":"Department","dataset":"business","style":"info","title":"Department","left":250,"top":130,"width":533,"height":194,"num_of_items":2,"item_height":"25px"},{"field":"Business Area","dataset":"business","style":"info","title":"Business Area","left":250,"top":330,"width":533,"height":237,"num_of_items":4,"item_height":"25px"},{"field":"Data","dataset":"journey_map","style":"secondary","title":"Data","left":790,"top":220,"width":497,"height":160,"num_of_items":3,"item_height":"25px"},{"field":"Capability","dataset":"business_capabilities","style":"secondary","title":"Capability","left":250,"top":10,"width":534,"height":116,"num_of_items":3,"item_height":"25px"},{"field":"Project","dataset":"project","style":"secondary","title":"Project","left":790,"top":390,"width":496,"height":174,"num_of_items":2,"item_height":"25px"},{"field":"Application","dataset":"application","style":"secondary","title":"Application","left":790,"top":10,"width":496,"height":196,"num_of_items":2,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}'],"Operational Perspective":['{"name":"Operational Impacts","notes":"Implementation and operational teams can use this to assess the level of impact, before making business","slicers":[{"field":"Business Model","dataset":"business","style":"success","title":"Business Model","left":14,"top":10,"width":462,"height":158,"num_of_items":3,"item_height":"25px"},{"field":"Process","dataset":"process","style":"success","title":"Process","left":891,"top":10,"width":391,"height":152,"num_of_items":2,"item_height":"25px"},{"field":"Business Area","dataset":"business","style":"secondary","title":"Business Area","left":16,"top":180,"width":456,"height":363,"num_of_items":2,"item_height":"25px"},{"field":"Data","dataset":"data","style":"secondary","title":"Data","left":480,"top":180,"width":604,"height":173,"num_of_items":3,"item_height":"25px"},{"field":"DataType","dataset":"data","style":"secondary","title":"DataType","left":1090,"top":180,"width":188,"height":172,"num_of_items":1,"item_height":"25px"},{"field":"Application","dataset":"application","style":"secondary","title":"Application","left":480,"top":360,"width":604,"height":175,"num_of_items":3,"item_height":"25px"},{"field":"Technical Fitness","dataset":"application","style":"secondary","title":"Technical Fitness","left":1090,"top":360,"width":190,"height":178,"num_of_items":1,"item_height":"25px"},{"field":"Project","dataset":"project","style":"success","title":"Project","left":490,"top":10,"width":394,"height":154,"num_of_items":2,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Technical Insight","notes":"Provides an overview of the technical insghts","slicers":[],"infocards":[{"field":"Application","dataset":"application","style":"info","title":"Applications","left":10,"top":10,"width":260,"height":140,"font_size":"70px","aggregation":"distinct"},{"field":"Data","dataset":"data","style":"secondary","title":"Data Items","left":430,"top":10,"width":250,"height":140,"font_size":"70px","aggregation":"distinct"},{"field":"Business Area","dataset":"business","style":"success","title":"Functional Areas","left":840,"top":10,"width":240,"height":140,"font_size":"70px","aggregation":"distinct"}],"chartcards":[{"field":"Business Area","dataset":"business","style":"success","title":"Functional Areas Impacted","left":840,"top":170,"width":400,"height":310,"chart_field":"Business Unit","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true},{"field":"Application","dataset":"application","style":"primary","title":"Technical Fitness of Applications","left":10,"top":170,"width":400,"height":310,"chart_field":"Technical Fitness","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true},{"field":"Data","dataset":"data","style":"secondary","title":"Type of Data","left":430,"top":170,"width":400,"height":310,"chart_field":"DataType","aggregation":"distinct","chart_type":"horizontal bar","show_x_label":true,"show_y_label":true}],"tablecards":[],"orgcards":[]}','{"name":"Data","notes":"Visually displays the relationship between the various business capabilities and data","slicers":[{"field":"Data","dataset":"data","style":"om-heritage-green","title":"Data","left":10,"top":150,"width":1190,"height":390,"num_of_items":5,"item_height":"25px"},{"field":"DataType","dataset":"data","style":"om-fresh-green","title":"DataType","left":400,"top":10,"width":800,"height":130,"num_of_items":6,"item_height":"25px"},{"field":"Data Audience","dataset":"data","style":"om-fresh-green","title":"Data Audience","left":10,"top":10,"width":380,"height":130,"num_of_items":2,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Application Management","notes":"Understand your application portfolio and its impacts","slicers":[{"field":"Technical Fitness","dataset":"application","style":"om-heritage-green","title":"Technical Fitness","left":940,"top":0,"width":260,"height":206,"num_of_items":1,"item_height":"30px"},{"field":"ApplicationRelationship","dataset":"application","style":"om-heritage-green","title":"Application Stage","left":5,"top":0,"width":247,"height":390,"num_of_items":1,"item_height":"30px"},{"field":"Business Area","dataset":"enabling functions","style":"secondary","title":"Business Areas","left":270,"top":215,"width":657,"height":170,"num_of_items":3,"item_height":"30px"},{"field":"Application","dataset":"application","style":"om-heritage-green","title":"Application","left":270,"top":0,"width":658,"height":206,"num_of_items":4,"item_height":"25px"},{"field":"Secondary Application","dataset":"application","style":"info","title":"Related Application","left":5,"top":405,"width":592,"height":172,"num_of_items":4,"item_height":"25px"},{"field":"Distribution Channel","dataset":"distribution channels","style":"secondary","title":"Distribution Channel","left":940,"top":215,"width":259,"height":170,"num_of_items":2,"item_height":"30px"},{"field":"Project","dataset":"project","style":"info","title":"Business Change Initiatives","left":610,"top":405,"width":588,"height":171,"num_of_items":2,"item_height":"35px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Application","notes":"Visually displays the relationship between the various applications","slicers":[{"field":"Application","dataset":"application","style":"secondary","title":"Application","left":6,"top":10,"width":672,"height":294,"num_of_items":3,"item_height":"25px"},{"field":"Technical Fitness","dataset":"application","style":"om-fresh-green","title":"Technical Fitness","left":680,"top":320,"width":234,"height":232,"num_of_items":1,"item_height":"25px"},{"field":"Underlying Technology","dataset":"application","style":"om-fresh-green","title":"Underlying Technology","left":10,"top":320,"width":234,"height":224,"num_of_items":1,"item_height":"25px"},{"field":"Secondary Application","dataset":"application","style":"secondary","title":"Related Application","left":690,"top":10,"width":434,"height":297,"num_of_items":2,"item_height":"25px"},{"field":"App Support","dataset":"application","style":"success","title":"Who Supports It","left":260,"top":320,"width":402,"height":230,"num_of_items":2,"item_height":"25px"},{"field":"TechType","dataset":"application","style":"secondary","title":"TechType","left":930,"top":320,"width":194,"height":234,"num_of_items":1,"item_height":"25px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}'],"Business Change Initiatives":['{"name":"Portfolio View","notes":"Represents the portfolio of change initiatives within the organization","slicers":[{"field":"Project","dataset":"project","style":"om-heritage-green","title":"Project","left":265,"top":0,"width":730,"height":114,"num_of_items":2,"item_height":"25px"},{"field":"Project Business Model","dataset":"project","style":"secondary","title":"Business Model","left":10,"top":0,"width":242,"height":114,"num_of_items":1,"item_height":"30px"},{"field":"Capability","dataset":"business_capabilities","style":"secondary","title":"Capability","left":1005,"top":225,"width":232,"height":296,"num_of_items":1,"item_height":"30px"},{"field":"Distribution Channel","dataset":"distribution channels","style":"secondary","title":"Distribution Channel","left":1005,"top":0,"width":229,"height":219,"num_of_items":1,"item_height":"30px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[],"portfolioview":[{"dataset":null,"style":"primary","left":10,"top":140,"width":977,"height":385,"y_axis":"Project","x_axis":"Business Area","cell_value":"Business Area"}]}','{"name":"Business Initiative","notes":"Explore a specific business chang initiative","slicers":[{"field":"Programme","dataset":"project","style":"om-heritage-green","title":"Programme","left":9.988426208496094,"top":19.988426208496094,"width":246.00726,"height":144.00426000000002,"num_of_items":1,"item_height":"25px"},{"field":"Project","dataset":"project","style":"om-heritage-green","title":"Project","left":279.9884338378906,"top":19.988426208496094,"width":686.0072600000001,"height":146.00726,"num_of_items":4,"item_height":"25px"},{"field":"Enabling Business Model","dataset":"project","style":"secondary","title":"Enabling Business Model","left":689.9884643554688,"top":189.98844146728516,"width":545.00026,"height":137.99726,"num_of_items":4,"item_height":"30px"},{"field":"Enabling Capability","dataset":"project","style":"info","title":"Enabling Capability","left":8.993056297302246,"top":339.9884262084961,"width":297.99726,"height":247.99726,"num_of_items":1,"item_height":"25px"},{"field":"Project Business Model","dataset":"project","style":"secondary","title":"Project Business Model","left":9.988426208496094,"top":189.98844146728516,"width":646.0072600000001,"height":137.99726,"num_of_items":5,"item_height":"30px"},{"field":"Enabling Application","dataset":"project","style":"info","title":"Enabling Application","left":628.9931030273438,"top":339.9884262084961,"width":297.99726,"height":247.99726,"num_of_items":1,"item_height":"25px"},{"field":"Enabling Data","dataset":"project","style":"info","title":"Enabling Data","left":938.9931030273438,"top":339.9884262084961,"width":297.99726,"height":247.99726,"num_of_items":1,"item_height":"25px"},{"field":"Distribution Channel","dataset":"distribution channels","style":"om-heritage-green","title":"Distribution Channel","left":1004.9884643554688,"top":19.976852416992188,"width":226.00726,"height":146.00726,"num_of_items":2,"item_height":"30px"},{"field":"Business Area","dataset":"project","style":"info","title":"Business Area","left":318.9930725097656,"top":339.9884262084961,"width":297.99726,"height":247.99726,"num_of_items":1,"item_height":"30px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}','{"name":"Team Impact","notes":"Understand your application portfolio and its impacts","slicers":[{"field":"ApplicationRelationship","dataset":"application","style":"om-heritage-green","title":"Application Stage","left":40,"top":155,"width":1151,"height":75,"num_of_items":7,"item_height":"35px"},{"field":"Project","dataset":"project","style":"info","title":"Business Change Initiatives","left":40,"top":0,"width":640,"height":141,"num_of_items":2,"item_height":"30px"},{"field":"Business Model","dataset":"business","style":"secondary","title":"Business Model","left":710,"top":0,"width":474,"height":144,"num_of_items":2,"item_height":"30px"}],"infocards":[],"chartcards":[],"tablecards":[{"dataset":"project","style":"secondary","title":"Technology Teams","left":40,"top":245,"width":1151,"height":256,"header":["Enabling Business Model","Business Area","Contact Person","Technology Stage","Enabling Application"]},{"dataset":"project","style":"secondary","title":"Data Team","left":40,"top":515,"width":1154,"height":256,"header":["Enabling Business Model","Business Area","Contact Person","Data LifeCycle","Enabling Data"]}],"orgcards":[],"portfolioview":[]}','{"name":"Business Initiative Tasks","notes":"Explore a specific business chang initiative","slicers":[{"field":"Project Business Model","dataset":"project","style":"om-heritage-green","title":"Project Business Model","left":4.984375,"top":14.984375,"width":512,"height":133.969,"num_of_items":4,"item_height":"30px"},{"field":"Project","dataset":"story_base","style":"om-heritage-green","title":"Project","left":540,"top":15,"width":469,"height":131,"num_of_items":3,"item_height":"30px"},{"field":"Capability","dataset":"business_capabilities","style":"info","title":"Capability","left":10,"top":175,"width":201,"height":288,"num_of_items":1,"item_height":"30px"},{"field":"Story Status","dataset":"story_base","style":"om-heritage-green","title":"Story Status","left":230,"top":175,"width":776,"height":82,"num_of_items":6,"item_height":"30px"},{"field":"Sub-Capability","dataset":"business_capabilities","style":"info","title":"Sub-Capability","left":10,"top":470,"width":201,"height":298,"num_of_items":1,"item_height":"30px"},{"field":"Business Area","dataset":"business","style":"info","title":"Business Area","left":1025,"top":465,"width":226,"height":306,"num_of_items":1,"item_height":"30px"}],"infocards":[{"field":"Story Application","dataset":"story_impact","style":"om-naartjie","title":"Technology","left":1030,"top":315,"width":200,"height":120,"font_size":"70px","aggregation":"distinct"},{"field":"Story Data","dataset":"story_impact","style":"om-sky","title":"Data","left":1025,"top":175,"width":200,"height":120,"font_size":"70px","aggregation":"distinct"},{"field":"Story","dataset":"story_base","style":"om-cerise","title":"Tasks","left":1020,"top":25,"width":200,"height":120,"font_size":"70px","aggregation":"distinct"}],"chartcards":[],"tablecards":[{"dataset":"story_base","style":"primary","title":"Task","left":230,"top":270,"width":778,"height":500,"header":["Project","Story","Description"]}],"orgcards":[]}','{"name":"Change Initiative Template","notes":"High-level view of what should be considered when busy with a specific type of business change initiative","slicers":[{"field":"Process","dataset":"business_change","style":"info","title":"Process","left":10,"top":10,"width":213,"height":571,"num_of_items":1,"item_height":"25px"},{"field":"Business Area","dataset":"business","style":"secondary","title":"Business Area","left":230,"top":200,"width":429,"height":378,"num_of_items":4,"item_height":"25px"},{"field":"Data","dataset":"business_change","style":"secondary","title":"Data","left":670,"top":410,"width":416,"height":172,"num_of_items":3,"item_height":"25px"},{"field":"Application","dataset":"business_change","style":"secondary","title":"Application","left":670,"top":200,"width":417,"height":201,"num_of_items":3,"item_height":"25px"},{"field":"SME Person","dataset":"business","style":"secondary","title":"SME Person","left":1100,"top":200,"width":240,"height":381,"num_of_items":1,"item_height":"25px"},{"field":"Capability","dataset":"business_capabilities","style":"info","title":"Capability","left":230,"top":10,"width":434,"height":186,"num_of_items":3,"item_height":"40px"},{"field":"Sub-Capability","dataset":"business_capabilities","style":"info","title":"Sub-Capability","left":670,"top":10,"width":672,"height":186,"num_of_items":4,"item_height":"40px"}],"infocards":[],"chartcards":[],"tablecards":[],"orgcards":[]}']};function iterate_slicers(t,e,i,a){var s,n=null,o=[],l=[],r=[];if(window.cache||(window.cache={}),t||(t=$(".dash-detail")),s=!t.hasClass("dash-detail"),n=t.data("slicers"),o=function(t){cache.reference_master instanceof Array||(cache.reference_master=[]);return cache.reference_master.forEach((function(e,a){!0!==i&&!0!==t&&(cache.reference_master[a][0]=1)})),cache.reference_master.slice()}(s),widget_types.forEach((function(e){var i=t.data(e);i instanceof Array&&i.forEach((function(t){var e=t.get_dataset();e&&-1===l.indexOf(e)&&"@visible"===e.header[0]&&(l.push(e),e.rows.forEach((function(t,i){e.rows[i][0]=1})))}))})),n.forEach((function(t){var e=t.get_dataset();t.set_content(),t.find(".slicer-item.active").length>0&&-1===r.indexOf(e)&&r.push(e)})),0===r.length)!1===s&&o.forEach((function(t,e){!0!==i&&(o[e][0]=1)}));else{var h=[];r.forEach((function(t){var e=t.header.indexOf("Business Area"),i=t.rows.filter((function(t){return 1==t[0]})).map((function(t){return t[e]}));i=i.filter((function(t,e){return i.indexOf(t)===e})).sort(),h=0===h.length?h.concat(i):i.filter((function(t){return-1!==h.indexOf(t)}))})),h=h.filter((function(t,e){return h.indexOf(t)===e})),o.forEach((function(t,e){!0===s?1===cache.reference_master[e][0]&&(o[e][0]=-1===h.indexOf(t[1])?0:1):o[e][0]=-1===h.indexOf(t[1])?0:1}))}l.forEach((function(t){var e=t.header.indexOf("Business Area");t.rows.forEach((function(i,a){0!=i[0]&&o.forEach((function(s){(s[1]==i[e]&&0==s[0]||null===i[e])&&(t.rows[a][0]=0)}))}))})),n.forEach((function(t){!0===i?t.update_frame():t.update_frame(e==t)})),widget_types.forEach((function(e){var i=t.data(e);i instanceof Array&&i.forEach((function(t){t.set_content()}))}))}window._config={cognito:{userPoolId:"ca-central-1_Jw8crpsDm",userPoolClientId:"269gogjksvhc1qnnfgdmf45em",region:"ca-central-1"}},Object.equals=function(t,e){var i=!1;for(var a in t)if(a in e&&(i=!0,t[a]!=e[a]))return!1;return!1!==i},GroupsToEdit={Stories:{primary_entity:"story",primary_key:{"Business Model":null,Project:null,Story:null},lanes:{Organization:{entity:"story_business_areas",display:"Business Area",values:[]},Technology:{entity:"story_app",display:"Application",values:[]},Data:{entity:"story_data",display:"Data",values:[]}}},BusinessInitiatives:{primary_entity:"dim_project",primary_key:{"Business Model":null,Project:null},lanes:{Strategy:{entity:"map_strategy",display:"Strategy",values:[]},Capability:{entity:"map_project_capability",display:"Enabling Capability",alias:"Capability",children:{entity:"dim_sub_capability",display:"Sub-Capability",reference:"Enabling Sub-Capability",key:"Capability"},values:[]},"Sub-Capability":{entity:"map_project_capability",display:"Enabling Sub-Capability",alias:"Sub-Capability",values:[]},Organization:{entity:"project_areas_impacted",display:"Business Area",alias:"Enabling Business Area",values:[]},Applications:{entity:"project_apps_impacted",display:"Application",values:[]},Data:{entity:"project_data_impacted",display:"Data",values:[]}}},Data:{primary_entity:"dim_data",primary_key:{Data:null},lanes:{Capture:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Capture"},filters:{LifeCycle:"Capture"},values:[]},Maintain:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Maintain"},filters:{LifeCycle:"Maintain"},values:[]},Use:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Use"},filters:{LifeCycle:"Use"},values:[]},Share:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Share"},filters:{LifeCycle:"Share"},values:[]},Store:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Store"},filters:{LifeCycle:"Store"},values:[]},Destroy:{entity:"map_data",display:"Business Area",default:{LifeCycle:"Destroy"},filters:{LifeCycle:"Destroy"},values:[]}}},Technology:{primary_entity:"dim_application",primary_key:{Application:null},lanes:{"Integration Point":{entity:"map_app_dependency",display:"Secondary",alias:"Application",values:[]},"Consumer / End-User":{entity:"map_application",display:"Business Area",default:{Role:"Consumer / End-User"},filters:{Role:"Consumer / End-User"},values:[]},"Manage Technology Change":{entity:"map_application",display:"Business Area",default:{Role:"Manage Technology Change"},filters:{Role:"Manage Technology Change"},values:[]},"Requirements Specification":{entity:"map_application",display:"Business Area",default:{Role:"Requirements Specification"},filters:{Role:"Requirements Specification"},values:[]},"Development / Build":{entity:"map_application",display:"Business Area",default:{Role:"Development / Build"},filters:{Role:"Development / Build"},values:[]},Testing:{entity:"map_application",display:"Business Area",default:{Role:"Testing"},filters:{Role:"Testing"},values:[]},Deployment:{entity:"map_application",display:"Business Area",default:{Role:"Deployment"},filters:{Role:"Deployment"},values:[]},Maintenance:{entity:"map_application",display:"Business Area",default:{Role:"Maintenance"},filters:{Role:"Maintenance"},values:[]}}}};var Slicer=function(){this.prototype=$.extend(this,BaseCard);var t=this,e=2,i="30px",a=null;function s(){var e=$('<div class="d-flex border-bottom"><input placeholder="Search term" class="pl-2 border border-0"><span class="btn-search border-0"><i class="fa fa-fw fa-search"/> </span></div>').css({position:"relative"});return e.find("input").hide(),e.removeClass("border-primary"),e.find("input").css({outline:"none"}).on("keyup",(function(e){var i=$(this).val().toLowerCase();e.stopPropagation(),t.find(".slicer-item").show(),""!==i.trim()&&t.find(".slicer-item").each((function(){-1===$(this).text().toLowerCase().indexOf(i)&&$(this).hide()}))})),e.find(".btn-search").on("click",(function(t){var i=$(this);t.stopPropagation(),i.find("i").hasClass("fa-search")?(e.find("input").show(),i.find("i").removeClass("fa-search").addClass("fa-times"),e.addClass("border-primary")):(e.find("input").val("").trigger("keyup").hide(),i.find("i").removeClass("fa-times").addClass("fa-search"),e.removeClass("border-primary"))})),e}return this._toObject=function(t){t.num_of_items=e,t.item_height=i,t.title=this.title},this._resize=function(){var t=Math.floor((this.frame.width()-30-10*e)/e)+"px";this.find(".slicer-item").css({width:t,"min-width":t,"max-width":t,height:i,"min-height":i,"max-height":i,"line-height":i})},this.sort=function(){var t=this.find(".slicer-item").not(".disabled").detach().sort((function(t,e){return $(t).text()<$(e).text()?-1:$(t).text()>$(e).text()?1:0})),e=this.find(".slicer-item").detach().sort((function(t,e){return $(t).text()<$(e).text()?-1:$(t).text()>$(e).text()?1:0}));this.find("ul").append(t).append(e)},this.style=function(){return{num_of_items:e,text_active:this.text_active,text_disabled:"text-muted",list_style:this.list_style}},this.columns=function(t){if(void 0===t)return e;e=Math.max(parseFloat(t),1),this.resize()},this._theme=function(t){var e=this.frame;this.find("ul").css({padding:"0",margin:0}),e.find(".title-bar").addClass("bg-"+this.list_style),void 0!==t&&(this.list_style=t),text_active="text-"+("light"===t?"dark":"white"),e.find(".title-bar").addClass("border-bottom border-"+t),e.addClass("border-"+t);var a=parseFloat(i)-5+"px";this.find(".slicer-item").addClass("list-inline-item").css({height:a,"max-height":a,"min-height":a,"max-width":e.width()})},this._attach=function(t){var n=[],o=$("<ul>"),l=this;return this.find(".dash-edit").before(s()),this.find(".frame-body").append(o),this.options=t=$.extend({num_of_items:1,style:"info",item_height:i},t),isNaN(t.num_of_items)||(e=t.num_of_items),!0===BizNous.inMobileMode&&(e=1),a=t.container,i=t.item_height,this.header(this.title||this.field),this.dataset.rows.forEach((function(t){var e=t[l.col_id];e&&-1===n.indexOf(e)&&(n.push(e),o.append('<a class="slicer-item" title="'+e+'">'+(""!==e?e:"(blank)")+"</a>"))})),o.on("click",".slicer-item",(function(e){var i=$(this);e.stopPropagation(),e.ctrlKey||o.find(".slicer-item").not(i).removeClass("active"),i.toggleClass("active"),iterate_slicers(t.container,l),l.options.on_change()})),this.resize(),this.sort(),this},this.update_frame=function(e){var i=[];if(this.dataset.rows.forEach((function(e){0!==e[0]&&-1===i.indexOf(e[t.col_id])&&i.push(e[t.col_id])})),this.find("slicer-item.active").length,this.find(".slicer-item").each((function(){var t=$(this);t.removeClass("disabled"),-1===i.indexOf(t.text())&&t.addClass("disabled")})),this.find(".title-bar").removeClass("font-italic"),this.find(".frame-clear-filter").remove(),this.find(".slicer-item.active").length>0&&(this.find(".title-bar").addClass("font-italic"),this.find(".frame-title").prepend('<a class="frame-clear-filter fa fa-lg fa-filter text-danger" title="click to clear filter"/>'),this.find(".frame-clear-filter").on("click",(function(e){e.stopPropagation(),t.find(".slicer-item").removeClass("active"),iterate_slicers(t.options.container,t),t.sort(),t.options.on_change()}))),!0!==e){var a=this.find(".slicer-item").not(".disabled").remove(),s=this.find("ul");s.prepend(a),s.scrollTop(0),this.resize(),this.sort()}},this.set_content=function(){var e=[];this.dataset.rows.forEach((function(e,i){var s=a.find("tbody tr").eq(i);t.dataset.rows[i+1]&&0===t.dataset.rows[i+1][0]?s.hide():s.show()})),this.frame.find(".slicer-item").each((function(){var t=$(this);t.hasClass("active")&&e.push(t.text())})),e.length>0&&this.dataset.rows.forEach((function(i,a){if(0!==i[0]){var s=i[t.col_id];-1===e.indexOf(s)&&(t.dataset.rows[a][0]=0)}}))},this.settings=function(){for(var t=this,e=$('<div class="d-flex flex-row flex-wrap mt-3"><div class="form-group mr-4"><label>number of columns</label><select class="form-control form-control-sm num-of-items" /></div><div class="form-group"><label>item height</label><input class="form-control form-control-sm item-height" type="number"/></div></div>'),a=e.find(".num-of-items"),s=1;s<11;s++)a.append("<option>"+(s<10?"0":"")+s+"</option>"),s===t.columns()&&a.find("option:last-child").attr("selected","selected");a.on("change",(function(e){e.stopPropagation(),t.columns(a.val())}));var n=e.find(".item-height");return n.val(parseInt(i)),n.css({width:"80px"}).on("keyup",(function(e){e.stopPropagation();var a=isNaN(parseInt(n.val()))?20:parseInt(n.val());a<20&&(a=20),i=a+"px",t.resize()})),e},this};